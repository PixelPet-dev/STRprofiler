<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STRprofiler | Public Research Platform for Life Sciences</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36BFFA',
                        accent: '#0FC6C2',
                        dark: '#1D2939',
                        light: '#F9FAFB',
                        success: '#00B42A',
                        warning: '#FF7D00',
                        danger: '#F53F3F'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
            }
            .gradient-overlay {
                background: linear-gradient(to right, rgba(22, 93, 255, 0.9), rgba(54, 191, 250, 0.8));
            }
        }
    </style>
</head>
<body class="font-inter bg-light text-dark antialiased">
    <!-- Navigation -->
    <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-300 bg-white/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="text-primary text-2xl font-bold flex items-center">
                        <i class="fa fa-dna mr-2"></i>
                        <span>STRprofiler</span>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="text-dark hover:text-primary font-medium transition-colors">Home</a>
                    <a href="#about" class="text-dark hover:text-primary font-medium transition-colors">About</a>
                    <a href="#tutorial" class="text-dark hover:text-primary font-medium transition-colors">Tutorial</a>
                    <a href="#cases" class="text-dark hover:text-primary font-medium transition-colors">Case Studies</a>
                    <a href="#community" class="text-dark hover:text-primary font-medium transition-colors">Community</a>
                </nav>
                
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#donate" class="px-5 py-2 rounded-full bg-primary text-white hover:bg-primary/90 transition-colors font-medium">
                        Support Us
                    </a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button id="menu-toggle" class="md:hidden text-dark hover:text-primary">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="container mx-auto px-4 py-3 space-y-3">
                <a href="#home" class="block py-2 text-dark hover:text-primary font-medium">Home</a>
                <a href="#about" class="block py-2 text-dark hover:text-primary font-medium">About</a>
                <a href="#tutorial" class="block py-2 text-dark hover:text-primary font-medium">Tutorial</a>
                <a href="#cases" class="block py-2 text-dark hover:text-primary font-medium">Case Studies</a>
                <a href="#community" class="block py-2 text-dark hover:text-primary font-medium">Community</a>
                <a href="#donate" class="block py-2 text-center bg-primary text-white rounded-lg hover:bg-primary/90">Support Us</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="pt-28 pb-20 md:pt-36 md:pb-32 bg-gradient-to-br from-primary/5 to-secondary/5">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-10 md:mb-0">
                    <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight text-dark mb-6">
                        Making <span class="text-primary">STR Research</span>
                        <br>Simpler
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 mb-8 max-w-lg">
                        A public research platform dedicated to promoting the STRprofiler tool, supporting life science research, and advancing genetic analysis technology.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#about" class="px-8 py-3 bg-primary text-white rounded-full font-medium text-center hover:bg-primary/90 transition-all shadow-lg shadow-primary/20">
                            Learn About the Tool
                        </a>
                        <a href="#tutorial" class="px-8 py-3 bg-white text-primary border border-primary rounded-full font-medium text-center hover:bg-primary/5 transition-all">
                            Get Started
                        </a>
                    </div>
                    <div class="mt-10 flex items-center text-gray-500">
                        <div class="flex -space-x-2">
                            <img src="https://picsum.photos/id/1001/100/100" alt="User avatar" class="w-10 h-10 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/id/1002/100/100" alt="User avatar" class="w-10 h-10 rounded-full border-2 border-white">
                            <img src="https://picsum.photos/id/1003/100/100" alt="User avatar" class="w-10 h-10 rounded-full border-2 border-white">
                            <div class="w-10 h-10 rounded-full bg-primary/10 text-primary flex items-center justify-center border-2 border-white text-sm font-medium">
                                +200
                            </div>
                        </div>
                        <p class="ml-4 text-sm">Joined by 200+ research teams worldwide</p>
                    </div>
                </div>
                <div class="md:w-1/2 relative">
                    <div class="relative z-10 rounded-2xl overflow-hidden shadow-2xl">
                        <img src="https://picsum.photos/id/119/800/600" alt="DNA research illustration" class="w-full h-auto">
                        <div class="absolute bottom-0 left-0 right-0 gradient-overlay p-6 text-white">
                            <p class="font-medium">STRprofiler is intended only for research purposes.</p>
                        </div>
                    </div>
                    <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-accent/20 rounded-full -z-10"></div>
                    <div class="absolute -top-6 -left-6 w-24 h-24 bg-primary/20 rounded-full -z-10"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Core Values -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">Our Core Values</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Dedicated to making life science research tools more accessible and easier to use, promoting inclusive scientific advancement</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-light rounded-xl p-8 shadow-sm card-hover">
                    <div class="w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-flask text-2xl text-primary"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Tool Accessibility</h3>
                    <p class="text-gray-600">Lowering the barrier to STR analysis technology, enabling more researchers to use professional tools conveniently and accelerating research progress.</p>
                </div>
                
                <div class="bg-light rounded-xl p-8 shadow-sm card-hover">
                    <div class="w-14 h-14 bg-secondary/10 rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-book text-2xl text-secondary"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Knowledge Sharing</h3>
                    <p class="text-gray-600">Building an open knowledge community to share STR analysis experiences, case studies, and best practices, fostering research collaboration.</p>
                </div>
                
                <div class="bg-light rounded-xl p-8 shadow-sm card-hover">
                    <div class="w-14 h-14 bg-accent/10 rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-users text-2xl text-accent"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Public Research Support</h3>
                    <p class="text-gray-600">Providing free resources and technical support to grassroots research institutions and student teams, promoting balanced development in life science research.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About STRprofiler -->
    <section id="about" class="py-20 bg-gradient-to-br from-gray-50 to-primary/5">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row gap-12 items-center">
                <div class="md:w-1/2">
                    <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-6">About STRprofiler</h2>
                    <p class="text-gray-600 mb-6">
                        STRprofiler is a professional tool for analyzing the similarity of Short Tandem Repeat (STR) profiles, widely used in genetics, forensics, and molecular biology research.
                    </p>
                    
                    <div class="bg-white p-6 rounded-xl shadow-sm mb-6">
                        <div class="flex items-start mb-4">
                            <div class="mt-1 w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fa fa-info text-primary"></i>
                            </div>
                            <div class="ml-4">
                                <h4 class="font-semibold mb-1">Important Notice</h4>
                                <p class="text-gray-600 text-sm">
                                    <strong>STRprofiler is intended only for research purposes.</strong>
                                    This tool should not be used for clinical diagnosis, forensic identification, or other formal application scenarios.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl font-semibold mb-4">Core Features</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-success mt-1 mr-3"></i>
                            <span>Calculate similarity scores for STR profiles from different samples</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-success mt-1 mr-3"></i>
                            <span>Provide three different scoring algorithms to meet diverse research needs</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-success mt-1 mr-3"></i>
                            <span>Support custom parameter settings, such as including Amelogenin marker analysis</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-success mt-1 mr-3"></i>
                            <span>Generate detailed sample analysis reports to assist research decisions</span>
                        </li>
                    </ul>
                </div>
                
                <div class="md:w-1/2">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-6 text-center">Similarity Scoring Algorithms</h3>
                        
                        <div class="space-y-6">
                            <div class="p-5 border border-gray-100 rounded-lg bg-gray-50">
                                <h4 class="font-medium text-primary mb-2">1. Tanabe (Sørenson-Dice Coefficient)</h4>
                                <div class="bg-white p-3 rounded border border-gray-200 mb-2">
                                    <code class="text-dark">score = (2 × number of shared alleles) / (number of query alleles + number of reference alleles)</code>
                                </div>
                                <p class="text-sm text-gray-600">
                                    Balances differences in gene counts between two samples, comprehensively measuring overall overlap, suitable for scenarios requiring fair comparison.
                                </p>
                            </div>
                            
                            <div class="p-5 border border-gray-100 rounded-lg bg-gray-50">
                                <h4 class="font-medium text-secondary mb-2">2. Masters (vs. Query Sample)</h4>
                                <div class="bg-white p-3 rounded border border-gray-200 mb-2">
                                    <code class="text-dark">score = number of shared alleles / number of query alleles</code>
                                </div>
                                <p class="text-sm text-gray-600">
                                    Calculates the proportion of alleles shared between the reference and query samples relative to the query sample, reflecting reference coverage of the query.
                                </p>
                            </div>
                            
                            <div class="p-5 border border-gray-100 rounded-lg bg-gray-50">
                                <h4 class="font-medium text-accent mb-2">3. Masters (vs. Reference Sample)</h4>
                                <div class="bg-white p-3 rounded border border-gray-200 mb-2">
                                    <code class="text-dark">score = number of shared alleles / number of reference alleles</code>
                                </div>
                                <p class="text-sm text-gray-600">
                                    Calculates the proportion of alleles shared between the query and reference samples relative to the reference sample, representing query coverage of the reference.
                                </p>
                            </div>
                        </div>
                        
                        <div class="mt-6 p-4 bg-primary/5 rounded-lg">
                            <p class="text-sm flex items-start">
                                <i class="fa fa-lightbulb-o text-primary mt-1 mr-2"></i>
                                <span>Amelogenin markers are not included in scoring by default. To include them in analysis, use the <code class="bg-white px-1 py-0.5 rounded text-xs">--score_amel</code> parameter.</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Calculator -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">STR Similarity Score Calculator</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Input parameters to instantly calculate similarity scores using three different algorithms,直观理解STRprofiler的工作原理</p>
            </div>
            
            <div class="max-w-3xl mx-auto bg-light rounded-2xl shadow-sm overflow-hidden">
                <div class="p-6 md:p-8">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div>
                            <label for="shared" class="block text-sm font-medium text-gray-700 mb-1">Number of Shared Alleles</label>
                            <input type="number" id="shared" min="0" value="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                        </div>
                        <div>
                            <label for="query" class="block text-sm font-medium text-gray-700 mb-1">Query Sample Alleles</label>
                            <input type="number" id="query" min="1" value="10" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                        </div>
                        <div>
                            <label for="reference" class="block text-sm font-medium text-gray-700 mb-1">Reference Sample Alleles</label>
                            <input type="number" id="reference" min="1" value="8" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                        </div>
                    </div>
                    
                    <div class="flex justify-center mb-8">
                        <button id="calculate" class="px-6 py-3 bg-primary text-white rounded-full font-medium hover:bg-primary/90 transition-colors shadow-md shadow-primary/20">
                            Calculate Scores
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-5 rounded-xl text-center border border-primary/20">
                            <h4 class="text-primary font-medium mb-2">Tanabe Coefficient</h4>
                            <div id="tanabe-result" class="text-2xl font-bold text-dark">0.56</div>
                            <div class="mt-2 text-xs text-gray-500">Balanced Comparison</div>
                        </div>
                        
                        <div class="bg-white p-5 rounded-xl text-center border border-secondary/20">
                            <h4 class="text-secondary font-medium mb-2">Masters (Query)</h4>
                            <div id="masters-query-result" class="text-2xl font-bold text-dark">0.50</div>
                            <div class="mt-2 text-xs text-gray-500">Reference Coverage</div>
                        </div>
                        
                        <div class="bg-white p-5 rounded-xl text-center border border-accent/20">
                            <h4 class="text-accent font-medium mb-2">Masters (Reference)</h4>
                            <div id="masters-ref-result" class="text-2xl font-bold text-dark">0.62</div>
                            <div class="mt-2 text-xs text-gray-500">Query Coverage</div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-6 border-t">
                    <div class="h-64">
                        <canvas id="score-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tutorial -->
    <section id="tutorial" class="py-20 bg-gradient-to-br from-gray-50 to-primary/5">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">User Guide</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Quickly master STRprofiler installation and basic usage to start your research analysis</p>
            </div>
            
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                    <div class="border-b">
                        <div class="flex">
                            <button class="tutorial-tab active px-6 py-4 font-medium text-primary border-b-2 border-primary" data-tab="installation">Installation</button>
                            <button class="tutorial-tab px-6 py-4 font-medium text-gray-500 hover:text-gray-700" data-tab="basic-usage">Basic Usage</button>
                            <button class="tutorial-tab px-6 py-4 font-medium text-gray-500 hover:text-gray-700" data-tab="advanced">Advanced Parameters</button>
                        </div>
                    </div>
                    
                    <div class="p-6 md:p-8">
                        <!-- Installation Steps -->
                        <div class="tutorial-content active" id="installation">
                            <h3 class="text-xl font-semibold mb-6">Installing STRprofiler</h3>
                            
                            <div class="space-y-6">
                                <div>
                                    <h4 class="font-medium mb-3 flex items-center">
                                        <span class="w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-sm mr-2">1</span>
                                        System Requirements
                                    </h4>
                                    <ul class="pl-8 space-y-2 text-gray-600">
                                        <li class="flex items-start">
                                            <i class="fa fa-check text-success mt-1 mr-2"></i>
                                            <span>Linux or macOS operating system</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fa fa-check text-success mt-1 mr-2"></i>
                                            <span>Python 3.6 or higher</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fa fa-check text-success mt-1 mr-2"></i>
                                            <span>Git version control tool</span>
                                        </li>
                                    </ul>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3 flex items-center">
                                        <span class="w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-sm mr-2">2</span>
                                        Clone Repository
                                    </h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>git clone https://github.com/j-andrews7/CRISPRball</code>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3 flex items-center">
                                        <span class="w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-sm mr-2">3</span>
                                        Install Dependencies
                                    </h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>cd CRISPRball<br>library("CRISPRball") CRISPRball()</code>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3 flex items-center">
                                        <span class="w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-sm mr-2">4</span>
                                        Verify Installation
                                    </h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>devtools::install_github("j-andrews7/CRISPRball")</code>
                                    </div>
                                    <p class="mt-2 text-sm text-gray-600">If installation is successful, the current STRprofiler version number will be displayed</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Basic Usage -->
                        <div class="tutorial-content hidden" id="basic-usage">
                            <h3 class="text-xl font-semibold mb-6">Basic STRprofiler Usage</h3>
                            
                            <div class="space-y-6">
                                <div>
                                    <h4 class="font-medium mb-3">Basic Command Format</h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>python strprofiler.py -i [input file] -o [output directory]</code>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3">Input File Format</h4>
                                    <p class="text-gray-600 mb-2">STRprofiler supports CSV format input files with the following columns:</p>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg">
                                            <thead class="bg-gray-50">
                                                <tr>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Column Name</th>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                                </tr>
                                            </thead>
                                            <tbody class="bg-white divide-y divide-gray-200">
                                                <tr>
                                                    <td class="px-4 py-2 text-sm">SampleID</td>
                                                    <td class="px-4 py-2 text-sm">Unique sample identifier</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-2 text-sm">Locus</td>
                                                    <td class="px-4 py-2 text-sm">STR locus name</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-2 text-sm">Allele1</td>
                                                    <td class="px-4 py-2 text-sm">First allele</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-2 text-sm">Allele2</td>
                                                    <td class="px-4 py-2 text-sm">Second allele</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3">Example</h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>python strprofiler.py -i samples.csv -o results/</code>
                                    </div>
                                    <p class="mt-2 text-sm text-gray-600">
                                        This command will analyze data in samples.csv and output results to the results directory
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Parameters -->
                        <div class="tutorial-content hidden" id="advanced">
                            <h3 class="text-xl font-semibold mb-6">Advanced Parameter Settings</h3>
                            
                            <div class="space-y-6">
                                <p class="text-gray-600">STRprofiler offers various parameter settings to meet different research needs:</p>
                                
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Parameter</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Example</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-4 py-2 text-sm font-medium">--score_amel</td>
                                                <td class="px-4 py-2 text-sm">Include Amelogenin in scoring calculation</td>
                                                <td class="px-4 py-2 text-sm font-mono text-primary">--score_amel</td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-2 text-sm font-medium">-m, --min_score</td>
                                                <td class="px-4 py-2 text-sm">Set minimum similarity score threshold</td>
                                                <td class="px-4 py-2 text-sm font-mono text-primary">-m 0.7</td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-2 text-sm font-medium">-f, --format</td>
                                                <td class="px-4 py-2 text-sm">Set output file format (csv or json)</td>
                                                <td class="px-4 py-2 text-sm font-mono text-primary">-f json</td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-2 text-sm font-medium">-v, --verbose</td>
                                                <td class="px-4 py-2 text-sm">Display detailed running logs</td>
                                                <td class="px-4 py-2 text-sm font-mono text-primary">-v</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-3">Comprehensive Example</h4>
                                    <div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
                                        <code>python strprofiler.py -i samples.csv -o results/ --score_amel -m 0.6 -f json</code>
                                    </div>
                                    <p class="mt-2 text-sm text-gray-600">
                                        This command will:<br>
                                        1. Analyze data in samples.csv<br>
                                        2. Include Amelogenin in scoring calculation<br>
                                        3. Set minimum similarity threshold to 0.6<br>
                                        4. Output results in JSON format to the results directory
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 bg-primary/5 rounded-xl p-6">
                    <h3 class="font-semibold mb-4 flex items-center">
                        <i class="fa fa-file-text-o text-primary mr-2"></i>
                        Complete Documentation
                    </h3>
                    <p class="text-gray-600 mb-4">View the full user manual and API documentation to learn more about advanced features and usage tips.</p>
                    <a href="#" class="inline-flex items-center text-primary font-medium hover:underline">
                        Download Complete Documentation
                        <i class="fa fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Cases -->
    <section id="cases" class="py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">Research Case Studies</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Real cases from research teams worldwide using STRprofiler, demonstrating applications across different research fields</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Case 1 -->
                <div class="bg-light rounded-xl overflow-hidden shadow-sm card-hover">
                    <img src="https://picsum.photos/id/237/600/400" alt="Population genetics research" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full mb-4">
                            Population Genetics
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Endangered Species Population Structure Analysis</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            A university research team used STRprofiler to analyze the genetic structure of an endangered species in China. By calculating STR similarities between different geographic populations, they revealed population differentiation and gene flow patterns.
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/id/1010/100/100" alt="Research team" class="w-8 h-8 rounded-full">
                                <span class="ml-2 text-sm text-gray-500">Wildlife Conservation Institute</span>
                            </div>
                            <a href="#" class="text-primary text-sm font-medium hover:underline">View Details</a>
                        </div>
                    </div>
                </div>
                
                <!-- Case 2 -->
                <div class="bg-light rounded-xl overflow-hidden shadow-sm card-hover">
                    <img src="https://picsum.photos/id/180/600/400" alt="Cancer research" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="inline-block px-3 py-1 bg-secondary/10 text-secondary text-xs font-medium rounded-full mb-4">
                            Oncology
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Tumor Heterogeneity Study</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            A hospital research team used STRprofiler to compare STR profiles from different sites of the same tumor patient, discovering significant genetic heterogeneity that provided important references for personalized treatment plans.
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/id/1011/100/100" alt="Research team" class="w-8 h-8 rounded-full">
                                <span class="ml-2 text-sm text-gray-500">Cancer Research Institute</span>
                            </div>
                            <a href="#" class="text-primary text-sm font-medium hover:underline">View Details</a>
                        </div>
                    </div>
                </div>
                
                <!-- Case 3 -->
                <div class="bg-light rounded-xl overflow-hidden shadow-sm card-hover">
                    <img src="https://picsum.photos/id/96/600/400" alt="Anthropology research" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="inline-block px-3 py-1 bg-accent/10 text-accent text-xs font-medium rounded-full mb-4">
                            Anthropology
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Ancient Human Remains Kinship Analysis</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            An archaeological team performed STR analysis on excavated ancient human remains using STRprofiler. By calculating similarity scores between samples, they successfully inferred kinship relationships between different individuals, providing important clues for studying ancient social structures.
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/id/1012/100/100" alt="Research team" class="w-8 h-8 rounded-full">
                                <span class="ml-2 text-sm text-gray-500">Archaeological Institute</span>
                            </div>
                            <a href="#" class="text-primary text-sm font-medium hover:underline">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-12">
                <a href="#" class="inline-flex items-center px-6 py-3 border border-primary text-primary rounded-full font-medium hover:bg-primary/5 transition-colors">
                    Browse More Cases
                    <i class="fa fa-long-arrow-right ml-2"></i>
                </a>
            </div>
            
            <div class="mt-16 bg-primary/5 rounded-2xl p-8">
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold mb-2">Share Your Research Case</h3>
                    <p class="text-gray-600">We encourage researchers using STRprofiler to share their findings, helping more people understand the tool's application value</p>
                </div>
                <div class="text-center">
                    <a href="#" class="px-8 py-3 bg-primary text-white rounded-full font-medium hover:bg-primary/90 transition-colors shadow-md shadow-primary/20">
                        Submit Case
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Community Resources -->
    <section id="community" class="py-20 bg-gradient-to-br from-gray-50 to-primary/5">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">Community & Resources</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Join our community, access more resources, and connect with researchers worldwide</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Resource 1 -->
                <div class="bg-white rounded-xl p-6 shadow-sm text-center card-hover">
                    <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa fa-comments text-2xl text-primary"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-3">Discussion Forum</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        Ask questions, share experiences, and discuss STR analysis-related issues with other researchers in our forum.
                    </p>
                    <a href="#" class="text-primary font-medium text-sm hover:underline">Visit Forum</a>
                </div>
                
                <!-- Resource 2 -->
                <div class="bg-white rounded-xl p-6 shadow-sm text-center card-hover">
                    <div class="w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa fa-calendar text-2xl text-secondary"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-3">Webinars</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        Regular online seminars featuring experts sharing STR analysis techniques and latest research advances.
                    </p>
                    <a href="#" class="text-primary font-medium text-sm hover:underline">View Schedule</a>
                </div>
                
                <!-- Resource 3 -->
                <div class="bg-white rounded-xl p-6 shadow-sm text-center card-hover">
                    <div class="w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa fa-code-fork text-2xl text-accent"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-3">Code Repository</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        Access our open-source code repository, get the latest tool versions, and participate in feature development.
                    </p>
                    <a href="#" class="text-primary font-medium text-sm hover:underline">Browse Code</a>
                </div>
                
                <!-- Resource 4 -->
                <div class="bg-white rounded-xl p-6 shadow-sm text-center card-hover">
                    <div class="w-16 h-16 bg-warning/10 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa fa-graduation-cap text-2xl text-warning"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-3">Training Materials</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        Get free access to detailed training manuals, video tutorials, and demo data to quickly master tool usage.
                    </p>
                    <a href="#" class="text-primary font-medium text-sm hover:underline">Get Materials</a>
                </div>
            </div>
            
            <div class="mt-16">
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                    <div class="p-8">
                        <h3 class="text-2xl font-bold mb-6">Frequently Asked Questions</h3>
                        
                        <div class="space-y-6">
                            <div class="border-b border-gray-100 pb-6">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fa fa-question-circle text-primary mr-2"></i>
                                    Can STRprofiler results be used for clinical diagnosis?
                                </h4>
                                <p class="text-gray-600 pl-6">
                                    No. STRprofiler is explicitly for research purposes only, and its results cannot be directly used for clinical diagnosis, forensic identification, or other formal application scenarios. Clinical applications require professionally validated and certified systems.
                                </p>
                            </div>
                            
                            <div class="border-b border-gray-100 pb-6">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fa fa-question-circle text-primary mr-2"></i>
                                    How to choose the appropriate similarity scoring algorithm?
                                </h4>
                                <p class="text-gray-600 pl-6">
                                    Algorithm selection should be based on research objectives: The Tanabe coefficient is suitable for scenarios requiring balanced comparison of two samples; when focusing on reference sample coverage of the query sample, choose the Masters (vs. Query) algorithm; when needing to evaluate query sample coverage of the reference sample, select the Masters (vs. Reference) algorithm.
                                </p>
                            </div>
                            
                            <div class="border-b border-gray-100 pb-6">
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fa fa-question-circle text-primary mr-2"></i>
                                    Can STRprofiler analysis results be published in academic journals?
                                </h4>
                                <p class="text-gray-600 pl-6">
                                    Yes. Many research teams have published academic papers using STRprofiler analysis results. We recommend citing the STRprofiler tool when publishing and providing detailed method descriptions according to journal requirements.
                                </p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold mb-2 flex items-center">
                                    <i class="fa fa-question-circle text-primary mr-2"></i>
                                    How to get technical support?
                                </h4>
                                <p class="text-gray-600 pl-6">
                                    You can ask questions through our community forum or send an email to support@strprofiler.org for technical assistance. Our volunteer team will do their best to answer your questions. For urgent issues, you can also participate in our online office hours for real-time help.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Support Us -->
    <section id="donate" class="py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-6">Support Our Public Initiative</h2>
                <p class="text-gray-600 mb-10 max-w-2xl mx-auto">
                    The development of the STRprofiler public platform depends on support from the research community. Your donation will be used for tool development, resource building, and community operations, helping us better serve life science researchers worldwide.
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                    <div class="bg-light rounded-xl p-6 border border-gray-100 card-hover">
                        <div class="text-3xl font-bold text-primary mb-2">Basic Support</div>
                        <div class="text-4xl font-bold mb-4">$20</div>
                        <p class="text-gray-600 text-sm mb-6">
                            Supports platform maintenance, gets exclusive community badge, priority access to new feature testing.
                        </p>
                        <button class="w-full py-3 bg-white border border-primary text-primary rounded-lg font-medium hover:bg-primary/5 transition-colors">
                            Donate Now
                        </button>
                    </div>
                    
                    <div class="bg-primary text-white rounded-xl p-6 shadow-lg shadow-primary/20 transform md:-translate-y-4 card-hover">
                        <div class="text-3xl font-bold mb-2">Research Partner</div>
                        <div class="text-4xl font-bold mb-4">$100</div>
                        <p class="text-white/80 text-sm mb-6">
                            Includes Basic Support benefits, plus customized tutorials, research showcase in case library.
                        </p>
                        <button class="w-full py-3 bg-white text-primary rounded-lg font-medium hover:bg-gray-100 transition-colors">
                            Donate Now
                        </button>
                    </div>
                    
                    <div class="bg-light rounded-xl p-6 border border-gray-100 card-hover">
                        <div class="text-3xl font-bold text-primary mb-2">Institutional Partner</div>
                        <div class="text-4xl font-bold mb-4">$500+</div>
                        <p class="text-gray-600 text-sm mb-6">
                            Customized technical support, co-host webinars, institutional logo display, priority technical collaboration.
                        </p>
                        <button class="w-full py-3 bg-white border border-primary text-primary rounded-lg font-medium hover:bg-primary/5 transition-colors">
                            Contact Us
                        </button>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-xl p-6 inline-block">
                    <h3 class="font-semibold mb-4">Other Ways to Support</h3>
                    <div class="flex flex-wrap justify-center gap-6">
                        <a href="#" class="flex items-center text-gray-600 hover:text-primary transition-colors">
                            <i class="fa fa-code mr-2"></i>
                            Code Contribution
                        </a>
                        <a href="#" class="flex items-center text-gray-600 hover:text-primary transition-colors">
                            <i class="fa fa-file-text-o mr-2"></i>
                            Documentation Translation
                        </a>
                        <a href="#" class="flex items-center text-gray-600 hover:text-primary transition-colors">
                            <i class="fa fa-comments mr-2"></i>
                            Community Support
                        </a>
                        <a href="#" class="flex items-center text-gray-600 hover:text-primary transition-colors">
                            <i class="fa fa-graduation-cap mr-2"></i>
                            Technical Training
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Subscription Section -->
    <section class="py-16 bg-primary">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4 text-white">Subscribe to Updates</h2>
                <p class="text-white/80 mb-8">
                    Get the latest news about STRprofiler, tutorial updates, and community events
                </p>
                
                <form class="flex flex-col sm:flex-row gap-3 max-w-lg mx-auto">
                    <input type="email" placeholder="Your email address" class="flex-grow px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-white">
                    <button type="submit" class="px-6 py-3 bg-white text-primary font-medium rounded-lg hover:bg-gray-100 transition-colors whitespace-nowrap">
                        Subscribe Now
                    </button>
                </form>
                
                <p class="text-white/60 text-sm mt-4">
                    We respect your privacy and will not share your information with third parties
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white pt-16 pb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <div class="text-2xl font-bold flex items-center mb-6">
                        <i class="fa fa-dna mr-2"></i>
                        <span>STRprofiler</span>
                    </div>
                    <p class="text-gray-400 mb-6">
                        Dedicated to promoting STR analysis technology, providing public tools and resources for life science research.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
                            <i class="fa fa-github"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
                            <i class="fa fa-linkedin"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
                            <i class="fa fa-youtube-play"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Quick Links</h3>
                    <ul class="space-y-3">
                        <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors">About</a></li>
                        <li><a href="#tutorial" class="text-gray-400 hover:text-white transition-colors">Tutorial</a></li>
                        <li><a href="#cases" class="text-gray-400 hover:text-white transition-colors">Case Studies</a></li>
                        <li><a href="#community" class="text-gray-400 hover:text-white transition-colors">Community</a></li>
                        <li><a href="#donate" class="text-gray-400 hover:text-white transition-colors">Support Us</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Resource Center</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">User Manual</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">API Documentation</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Demo Data</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Video Tutorials</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Academic Citation</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Contact Us</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fa fa-envelope-o text-gray-400 mt-1 mr-3"></i>
                            <span class="text-gray-400">contact@strprofiler.org</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-github text-gray-400 mt-1 mr-3"></i>
                            <span class="text-gray-400">https://github.com/j-andrews7/CRISPRball</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-comments text-gray-400 mt-1 mr-3"></i>
                            <span class="text-gray-400">Forum Discussion</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-white/10 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-500 text-sm mb-4 md:mb-0">
                        &copy; 2023 STRprofiler Public Platform. All rights reserved.
                    </p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">Privacy Policy</a>
                        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">Terms of Use</a>
                        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">Disclaimer</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-md');
                navbar.classList.remove('shadow-sm');
            } else {
                navbar.classList.remove('shadow-md');
                navbar.classList.add('shadow-sm');
            }
        });
        
        // Mobile menu toggle
        document.getElementById('menu-toggle').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu
                    document.getElementById('mobile-menu').classList.add('hidden');
                }
            });
        });
        
        // Score calculator
        const calculateButton = document.getElementById('calculate');
        const sharedInput = document.getElementById('shared');
        const queryInput = document.getElementById('query');
        const referenceInput = document.getElementById('reference');
        
        // Initialize chart
        let scoreChart;
        
        function initChart(tanabe, mastersQuery, mastersRef) {
            const ctx = document.getElementById('score-chart').getContext('2d');
            
            if (scoreChart) {
                scoreChart.destroy();
            }
            
            scoreChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Tanabe Coefficient', 'Masters (Query)', 'Masters (Reference)'],
                    datasets: [{
                        label: 'Similarity Score',
                        data: [tanabe, mastersQuery, mastersRef],
                        backgroundColor: [
                            'rgba(22, 93, 255, 0.7)',
                            'rgba(54, 191, 250, 0.7)',
                            'rgba(15, 198, 194, 0.7)'
                        ],
                        borderColor: [
                            'rgba(22, 93, 255, 1)',
                            'rgba(54, 191, 250, 1)',
                            'rgba(15, 198, 194, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 0.2
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Calculate scores
        function calculateScores() {
            const shared = parseInt(sharedInput.value) || 0;
            const query = parseInt(queryInput.value) || 1;
            const reference = parseInt(referenceInput.value) || 1;
            
            // Prevent division by zero
            const safeQuery = Math.max(query, 1);
            const safeReference = Math.max(reference, 1);
            
            // Calculate three scores
            const tanabe = (2 * shared) / (safeQuery + safeReference);
            const mastersQuery = shared / safeQuery;
            const mastersRef = shared / safeReference;
            
            // Update result display
            document.getElementById('tanabe-result').textContent = tanabe.toFixed(2);
            document.getElementById('masters-query-result').textContent = mastersQuery.toFixed(2);Query.toFixed(2);
            document.getElementById('masters-ref-result').textContent = mastersRef.toFixed(2);
            
            // Update chart
            initChart(tanabe, mastersQuery, mastersRef);
        }
        
        // Initial calculation
        calculateScores();
        
        // Bind calculation events
        calculateButton.addEventListener('click', calculateScores);
        sharedInput.addEventListener('input', calculateScores);
        queryInput.addEventListener('input', calculateScores);
        referenceInput.addEventListener('input', calculateScores);
        
        // Tutorial tab switching
        const tutorialTabs = document.querySelectorAll('.tutorial-tab');
        const tutorialContents = document.querySelectorAll('.tutorial-content');
        
        tutorialTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove all active states
                tutorialTabs.forEach(t => {
                    t.classList.remove('active', 'text-primary', 'border-primary', 'border-b-2');
                    t.classList.add('text-gray-500');
                });
                
                tutorialContents.forEach(c => c.classList.add('hidden'));
                
                // Add current active state
                tab.classList.add('active', 'text-primary', 'border-primary', 'border-b-2');
                tab.classList.remove('text-gray-500');
                
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.remove('hidden');
            });
        });
    </script>
</body>
</html>
